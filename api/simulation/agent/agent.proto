syntax = "proto3";

package api.agent;

option go_package="github.com/synerex/synerex_alpha/api/simulation/agent";


message AgentInfo {
    // agent info
    uint32 time = 1;
    uint32 agent_id = 2;
    uint32 controll_area = 3;
    string agent_name = 4;
    AgentStatus agent_status = 5;
    AgentType agent_type = 6;
    Route route = 7;
    Rule rule = 8;

    // supply type
    SupplyType supply_type = 9;

    // meta data
    StatusType status_type = 10;
	string meta = 11;
}

message AgentsInfo {
    // agents info
    uint32 time = 1;
    uint32 area_id = 2;
    AgentType agent_type = 3;
    repeated AgentInfo agent_info = 4;

    // supply type
    SupplyType supply_type = 5;
        
    // meta data
    StatusType status_type = 6;
	string meta = 7;
}

message AgentDemand {
    // demand info
    uint32 time = 1;
    uint32 agent_id = 2;
    string agent_name = 3;
    AgentType agent_type = 4;
    AgentStatus agent_status = 5;
    Route route = 6;
    Rule rule = 7;
        
    // demand info
    DemandType demand_type = 8;

    // meta data
    StatusType status_type = 9;
	string meta = 10;
}

message AgentsDemand {
    // demand info
    uint32 time = 1;
    uint32 area_id = 2;
    AgentType agent_type = 3;
        
    // demand info
    DemandType demand_type = 4;

    // meta data
    StatusType status_type = 5;
	string meta = 6;
}

message Route {
    message Coord {
        float lat = 1;
        float lon = 2;
        }
    Coord coord = 1;
    float direction = 2;
    float speed = 3;
    float destination = 4;
    float departure = 5;
}

message Rule {
    string rule_info = 1;
}

message AgentStatus {
    string age = 1;
    string sex = 2;
}

enum StatusType {
    OK = 0;
    NG = 1;
    NONE = 2;
}

enum AgentType {
    PEDESTRIAN = 0;
    CAR = 1;
    TRAIN = 2;
    BICYCLE = 3;
}

enum DemandType {
    SET = 0;
    GET = 1;
}

enum SupplyType {
    RES_SET = 0;
    RES_GET = 1;
}